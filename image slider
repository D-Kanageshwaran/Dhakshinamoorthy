import {useStyles, createStyleSheet} from 'styles';
import {useVariants} from 'react-exo/utils';
import {View} from 'react-native';
import {Gallery} from 'components/common/base/gallery';
import {Indicators} from 'components/common/base/indicators';

export interface ImageSliderProps {
  container: typeof ImageSliderVariants.container[number],
  /** Used to locate this view in end-to-end tests. */
  testID?: string,
}

export const ImageSliderVariants = {
  container: ['$1', '$2', '$3'],
} as const;

export function ImageSlider(props: ImageSliderProps) {
  const {container} = props;
  const {styles} = useStyles(stylesheet);
  const {vstyles} = useVariants(ImageSliderVariants, {container}, styles);

  return (
    <View style={vstyles.root()} testID={props.testID ?? "72:199"}>
      <View style={vstyles.galleryPadding()} testID="72:201">
        <Gallery testID="72:202"/>
      </View>
      <Indicators
        testID="72:203"
        selected="$1"
      />
    </View>
  );
}

const stylesheet = createStyleSheet(theme => ({
  root: {
    width: 375,
    paddingTop: 16,
    paddingLeft: 0,
    paddingBottom: 16,
    paddingRight: 0,
    flexDirection: 'column',
    justifyContent: 'center',
    alignItems: 'center',
    rowGap: 8,
    columnGap: 8,
    backgroundColor: 'rgba(255, 255, 255, 1)',
  },
  galleryPadding: {
    paddingTop: 0,
    paddingLeft: 24,
    paddingBottom: 0,
    paddingRight: 24,
    flexDirection: 'column',
    justifyContent: 'center',
    alignItems: 'flex-start',
    rowGap: 10,
    columnGap: 10,
    alignSelf: 'stretch',
  },
  galleryPaddingContainer2: {
    alignItems: 'center',
  },
  galleryPaddingContainer3: {
    alignItems: 'flex-end',
  },
}));
